{% load staticfiles %}
{% load geoinfo %}

{% block javascript_vars %}
    <script type="text/javascript">
        var geoinfo_feature_map_attach_id = "{{ attach_id|escapejs }}";
        var geoinfo_feature_map_settings = {{ map_settings|safe }};
        var geoinfo_feature_map_ajax_url = "{{ ajax_url|escapejs }}";
        var geoinfo_feature_map_show_search = "{{ search|escapejs }}";  {# Doesn't work yet #}
        console.log("map settings:", geoinfo_feature_map_settings);
    </script>
{% endblock %}

{% block override_area_1 %}{% endblock %}

{% geoinfo_load_map_utils %}

{#  Override this with your own map js if needed: #}
{% block override_area_2 %}
    <script type="text/javascript" src="{% static 'build/geoinfo/js/feature_map.js' %}"></script>
{% endblock %}
